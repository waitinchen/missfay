# ğŸš€ å¿«é€Ÿå¯åŠ¨æœåŠ¡æŒ‡å—

## âŒ é—®é¢˜ï¼šERR_CONNECTION_REFUSED

è¿™ä¸ªé”™è¯¯è¡¨ç¤ºæœåŠ¡æ²¡æœ‰è¿è¡Œã€‚è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å¯åŠ¨æœåŠ¡ã€‚

## âœ… å¯åŠ¨æ­¥éª¤

### æ–¹æ³• 1: ä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæœ€ç®€å•ï¼‰

1. **æ‰“å¼€ PowerShell**ï¼Œè¿›å…¥é¡¹ç›®ç›®å½•ï¼š
   ```powershell
   cd C:\Users\waiti\missfay
   ```

2. **è¿è¡Œå¯åŠ¨è„šæœ¬**ï¼š
   ```powershell
   .\start_voice_bridge.ps1
   ```

3. **ç­‰å¾…æœåŠ¡å¯åŠ¨**ï¼Œçœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯è¡¨ç¤ºæˆåŠŸï¼š
   ```
   INFO:     Uvicorn running on http://0.0.0.0:8000
   âœ… PhiBrain (LLM) initialized successfully.
   ```

4. **è®¿é—®æµ‹è¯• URL**ï¼š
   ```
   http://localhost:8000/
   ```

### æ–¹æ³• 2: ç›´æ¥è¿è¡Œ Python

1. **æ£€æŸ¥ Python è·¯å¾„**ï¼ˆè„šæœ¬ä¸­ä½¿ç”¨çš„è·¯å¾„ï¼‰ï¼š
   ```
   C:\Users\waiti\missfay\GPT-SoVITS-v3lora-20250228\GPT-SoVITS-v3lora-20250228\runtime\python.exe
   ```

2. **å¦‚æœè·¯å¾„å­˜åœ¨ï¼Œç›´æ¥è¿è¡Œ**ï¼š
   ```powershell
   cd C:\Users\waiti\missfay
   & "C:\Users\waiti\missfay\GPT-SoVITS-v3lora-20250228\GPT-SoVITS-v3lora-20250228\runtime\python.exe" voice_bridge.py
   ```

3. **å¦‚æœè·¯å¾„ä¸å­˜åœ¨ï¼Œä½¿ç”¨ç³»ç»Ÿ Python**ï¼š
   ```powershell
   cd C:\Users\waiti\missfay
   python voice_bridge.py
   ```
   æˆ–
   ```powershell
   python3 voice_bridge.py
   ```

### æ–¹æ³• 3: ä½¿ç”¨ uvicorn

```powershell
cd C:\Users\waiti\missfay
uvicorn voice_bridge:app --host 0.0.0.0 --port 8000 --reload
```

## ğŸ” æ£€æŸ¥æœåŠ¡æ˜¯å¦è¿è¡Œ

### æ£€æŸ¥ç«¯å£å ç”¨
```powershell
netstat -ano | findstr :8000
```

å¦‚æœçœ‹åˆ°è¾“å‡ºï¼Œè¯´æ˜æœ‰è¿›ç¨‹åœ¨ä½¿ç”¨ 8000 ç«¯å£ã€‚

### æ£€æŸ¥ Python è¿›ç¨‹
```powershell
Get-Process | Where-Object {$_.ProcessName -like "*python*"}
```

## âš ï¸ å¸¸è§é—®é¢˜

### 1. Python è·¯å¾„ä¸å­˜åœ¨

å¦‚æœ `GPT-SoVITS-v3lora-20250228` è·¯å¾„ä¸å­˜åœ¨ï¼Œéœ€è¦ï¼š
- ä½¿ç”¨ç³»ç»Ÿ Pythonï¼Œæˆ–
- ä¿®æ”¹ `start_voice_bridge.ps1` ä¸­çš„ Python è·¯å¾„

### 2. ç¼ºå°‘ä¾èµ–åŒ…

å¦‚æœæç¤ºç¼ºå°‘æ¨¡å—ï¼Œè¿è¡Œï¼š
```powershell
pip install fastapi uvicorn httpx pydantic python-dotenv requests google-generativeai cartesia
```

### 3. ç¯å¢ƒå˜é‡æœªè®¾ç½®

ç¡®ä¿ `.env` æ–‡ä»¶å­˜åœ¨å¹¶åŒ…å«ï¼š
```env
GEMINI_API_KEY=your_key_here
CARTESIA_API_KEY=your_key_here
CARTESIA_VOICE_ID=your_voice_id_here
GEMINI_MODEL=gemini-2.0-flash-exp
```

### 4. ç«¯å£è¢«å ç”¨

å¦‚æœ 8000 ç«¯å£è¢«å ç”¨ï¼š
- æŸ¥æ‰¾å ç”¨è¿›ç¨‹ï¼š`netstat -ano | findstr :8000`
- ç»“æŸè¿›ç¨‹ï¼š`taskkill /PID <è¿›ç¨‹ID> /F`
- æˆ–ä¿®æ”¹ `voice_bridge.py` ä½¿ç”¨å…¶ä»–ç«¯å£

## ğŸ“ éªŒè¯æœåŠ¡è¿è¡Œ

æœåŠ¡å¯åŠ¨æˆåŠŸåï¼Œè®¿é—®ä»¥ä¸‹ URL éªŒè¯ï¼š

- **ä¸»ç•Œé¢**ï¼š`http://localhost:8000/`
- **å¥åº·æ£€æŸ¥**ï¼š`http://localhost:8000/health`
- **API æ–‡æ¡£**ï¼š`http://localhost:8000/docs`

## ğŸ¯ æˆåŠŸæ ‡å¿—

çœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯è¡¨ç¤ºæœåŠ¡æ­£å¸¸è¿è¡Œï¼š
```
INFO:     Started server process
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000
âœ… PhiBrain (LLM) initialized successfully.
```

